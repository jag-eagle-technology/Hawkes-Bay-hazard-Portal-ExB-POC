define(["jimu-core","jimu-ui","jimu-layouts/layout-runtime","jimu-ui/advanced/setting-components","jimu-arcgis","jimu-for-builder"],(function(e,t,n,o,s,a){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var s=t[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(o,s,function(t){return e[t]}.bind(null,s));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=271)}({0:function(t,n){t.exports=e},1:function(e,n){e.exports=t},2:function(e,t){e.exports=n},271:function(e,t,n){"use strict";var o,s=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(0),r=n(1),d=n(3),c=n(4),l=n(5),u=n(2),p=n(272),g=n(273);!function(e){e.Auto="auto",e.SideBySide="side-by-side",e.Stack="stack"}(a=t.CardLayout||(t.CardLayout={}));var f=function(e){function t(t){var n=e.call(this,t)||this;return n.supportedDsTypes=i.Immutable([c.DataSourceTypes.WebMap,c.DataSourceTypes.WebScene]),n.getPortUrl=function(){return i.getAppStore().getState().portalUrl},n.onOptionsChanged=function(e,t){n.props.onSettingChange({id:n.props.id,config:n.props.config.set(t,e)}),"cardStyle"===t&&n.setState({cardStyle:e})},n.onRadioChange=function(e){n.props.onSettingChange({id:n.props.id,config:n.props.config.set("cardLayout",e)}),n.setState({cardLayoutValue:e})},n.onToggleUseDataEnabled=function(e){n.props.onSettingChange({id:n.props.id,useDataSourcesEnabled:e})},n.onDataSourceChange=function(e){e&&n.props.onSettingChange({id:n.props.id,useDataSources:e})},n.onMapWidgetSelected=function(e){n.props.onSettingChange({id:n.props.id,useMapWidgetIds:e})},n.state={cardStyle:n.props.config.cardStyle||!1,cardLayoutValue:n.props.config.cardLayout||a.Auto},n}return s(t,e),t.prototype.render=function(){var e=this,t=null;return this.state.cardStyle&&(t=i.jsx("div",{className:"card-layout-content pl-2"},i.jsx("div",{className:"w-100 legend-tools"},i.jsx("div",{className:"legend-tools-item card-style-radio"},i.jsx(r.Radio,{id:"auto",style:{cursor:"pointer"},name:"auto",onChange:function(t){return e.onRadioChange(a.Auto)},checked:this.state.cardLayoutValue===a.Auto}),i.jsx(r.Label,{style:{cursor:"pointer"},for:"auto",className:"ml-1"},this.props.intl.formatMessage({id:"auto",defaultMessage:"Auto"})))),i.jsx("div",{className:"w-100 legend-tools"},i.jsx("div",{className:"legend-tools-item card-style-radio"},i.jsx(r.Radio,{id:"side-by-side",style:{cursor:"pointer"},name:"side-by-side",onChange:function(t){return e.onRadioChange(a.SideBySide)},checked:this.state.cardLayoutValue===a.SideBySide}),i.jsx(r.Label,{style:{cursor:"pointer"},for:"side-by-side",className:"ml-1"},this.props.intl.formatMessage({id:"sideBySide",defaultMessage:p.default.sideBySide})))),i.jsx("div",{className:"w-100 legend-tools"},i.jsx("div",{className:"legend-tools-item card-style-radio"},i.jsx(r.Radio,{id:"stack",style:{cursor:"pointer"},name:"stack",onChange:function(t){return e.onRadioChange(a.Stack)},checked:this.state.cardLayoutValue===a.Stack}),i.jsx(r.Label,{style:{cursor:"pointer"},for:"stack",className:"ml-1"},this.props.intl.formatMessage({id:"stack",defaultMessage:u.defaultMessages.stack})))))),i.jsx("div",{css:g.getStyle(this.props.theme)},i.jsx("div",{className:"widget-setting-legend"},i.jsx(d.SettingSection,{className:"map-selector-section",title:this.props.intl.formatMessage({id:"sourceLabel",defaultMessage:p.default.sourceLabel})},i.jsx(d.SettingRow,{label:i.jsx(i.FormattedMessage,{id:"selectMapWidget",defaultMessage:p.default.selectMapWidget})}),i.jsx(d.SettingRow,null,i.jsx(d.JimuMapViewSelector,{onSelect:this.onMapWidgetSelected,useMapWidgetIds:this.props.useMapWidgetIds}))),i.jsx(d.SettingSection,{title:this.props.intl.formatMessage({id:"options",defaultMessage:p.default.options})},i.jsx(d.SettingRow,{label:i.jsx(i.FormattedMessage,{id:"showBaseMap",defaultMessage:p.default.showBaseMap})},i.jsx(r.Switch,{className:"can-x-switch",checked:this.props.config&&this.props.config.showBaseMap||!1,"data-key":"showBaseMap",onChange:function(t){e.onOptionsChanged(t.target.checked,"showBaseMap")}})),i.jsx(d.SettingRow,{label:i.jsx(i.FormattedMessage,{id:"cardStyle",defaultMessage:p.default.cardStyle})},i.jsx(r.Switch,{className:"can-x-switch",checked:this.props.config&&this.props.config.cardStyle||!1,"data-key":"cardStyle",onChange:function(t){e.onOptionsChanged(t.target.checked,"cardStyle")}})),i.jsx(d.SettingRow,{flow:"wrap"},t))))},t.mapExtraStateProps=function(e){return{dsJsons:e.appStateInBuilder.appConfig.dataSources}},t}(l.BaseWidgetSetting);t.default=f},272:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={sourceLabel:"Source",sourceDescript:"A web map or web scene, or any combination of the two.",options:"Options",showBaseMap:"Show basemap legends",cardStyle:"Use card style",sideBySide:"Side by side",selectMapWidget:"Select a Map widget"}},273:function(e,t,n){"use strict";var o=this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};Object.defineProperty(t,"__esModule",{value:!0});var s,a=n(0);t.getStyle=function(e){return a.css(s||(s=o(["\n    .widget-setting-legend{\n      font-weight: lighter;\n      font-size: 13px;\n\n      .source-descript {\n        color: ",";\n      }\n\n      .webmap-thumbnail{\n        cursor: auto;\n        width: 100%;\n        height: 120px;\n        overflow: hidden;\n        padding: 1px;\n        border: "," solid initial;\n        img, div{\n          width: 100%;\n          height: 100%;\n        }\n      }\n\n      .card-layout-content{\n        width: 100%;\n      }\n\n      .legend-tools{\n        .legend-tools-item{\n          display: flex;\n          margin-bottom: 8px;\n        }\n      }\n\n      .map-selector-section .component-map-selector .form-control{\n        width: 100%;\n      }\n    }\n  "],["\n    .widget-setting-legend{\n      font-weight: lighter;\n      font-size: 13px;\n\n      .source-descript {\n        color: ",";\n      }\n\n      .webmap-thumbnail{\n        cursor: auto;\n        width: 100%;\n        height: 120px;\n        overflow: hidden;\n        padding: 1px;\n        border: "," solid initial;\n        img, div{\n          width: 100%;\n          height: 100%;\n        }\n      }\n\n      .card-layout-content{\n        width: 100%;\n      }\n\n      .legend-tools{\n        .legend-tools-item{\n          display: flex;\n          margin-bottom: 8px;\n        }\n      }\n\n      .map-selector-section .component-map-selector .form-control{\n        width: 100%;\n      }\n    }\n  "])),e.colors.palette.dark[600],a.polished.rem(2))}},3:function(e,t){e.exports=o},4:function(e,t){e.exports=s},5:function(e,t){e.exports=a}})}));