define(["jimu-core","jimu-ui"],(function(e,n){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(r,i,function(n){return e[n]}.bind(null,i));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=438)}({0:function(n,t){n.exports=e},1:function(e,t){e.exports=n},107:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.Icon="ICON",e.Vertical="VERTICAL",e.Horizontal="HORIZONTAL"}(n.MenuType||(n.MenuType={}))},141:function(e,n,t){"use strict";var r,i=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e};Object.defineProperty(n,"__esModule",{value:!0});var o=t(0),a=t(0),u=t(1),l=o.React.useCallback,c=o.React.useState,s=o.React.useEffect,v=o.React.useMemo,p=o.ReactRedux.useSelector,d=o.getAppStore().getState().appContext.isRTL,f=t(442),y=t(443),g=t(444),h=((r={})[a.PageType.Normal]=f,r[a.PageType.Link]=y,r[a.PageType.Folder]=g,r);n.filterPageStructure=function(e,n){return(e=e.filter((function(e){var t=Object.keys(e)[0];return(null==n?void 0:n[t]).isVisible}))).map((function(e){var t=Object.entries(e)[0],r=t[0],i=t[1];return i=i.filter((function(e){return(null==n?void 0:n[e]).isVisible})),e.set(r,i)}))},n.getMenuNavigationData=function(e,t){return(e=n.filterPageStructure(e,t)).map((function(e){var n=Object.entries(e)[0],r=n[0],i=n[1],o=t[r],a=j(o),u=i.map((function(e){var n=t[e];return j(n)}));return a.set("subs",u)}))};var m,b,O,w,j=function(e){var n=P(e),t=_(e);return a.Immutable({linkType:n,value:t,icon:e.icon||h[e.type],target:e.openTarget,name:e.label})},P=function(e){return e.type===a.PageType.Link?a.LinkType.WebAddress:e.type===a.PageType.Normal?a.LinkType.Page:void 0},_=function(e){return e.type===a.PageType.Link?e.linkUrl:e.type===a.PageType.Normal?e.id:e.type===a.PageType.Folder?"#":void 0};n.getPageId=function(e){if(!(null==e?void 0:e.value))return"";var n=e.value.split(",");return(null==n?void 0:n.length)?n[0]:""},n.useAvtivePage=function(){var e=p((function(e){var n;return null===(n=e.appRuntimeInfo)||void 0===n?void 0:n.currentPageId}));return l((function(t){return n.getPageId(t)===e}),[e])},n.useNavigationData=function(){var e=c([]),t=e[0],r=e[1],i=p((function(e){var n;return null===(n=null==e?void 0:e.appConfig)||void 0===n?void 0:n.pages})),o=p((function(e){var n;return null===(n=null==e?void 0:e.appConfig)||void 0===n?void 0:n.pageStructure}));return s((function(){var e=n.getMenuNavigationData(o,i);r(e)}),[i,o]),t},n.useAnchor=function(e){return p((function(e){return(null==e?void 0:e.browserSizeMode)===a.BrowserSizeMode.Small}))?"full":e},n.useNavAdvanceStyle=function(e,n,t,r){return v((function(){var a;return e?o.css(b||(b=i(["\n    .jimu-nav,\n    &.jimu-nav {\n      ",";\n      ",";\n      ","\n    }\n"],["\n    .jimu-nav,\n    &.jimu-nav {\n      ",";\n      ",";\n      ","\n    }\n"])),u.componentStyleUtils.nav.getRootStyles(null===(a=t)||void 0===a?void 0:a.root),u.componentStyleUtils.nav.getVariantStyles(n,t,r,d),u.styleUtils.getIconBtnStyleByState(null==t?void 0:t.item)):o.css(m||(m=i([""],[""])))}),[e,n,t,r])},n.useDrawerAdvanceStyle=function(e,n,t){var r,a,u=null==t?void 0:t.bg,l=null===(a=null===(r=null==n?void 0:n.item)||void 0===r?void 0:r.default)||void 0===a?void 0:a.color;return v((function(){return e?o.css(w||(w=i(["\n      .paper {\n        background: ",";\n        .header {\n          color:  ",";\n        }\n      }\n    "],["\n      .paper {\n        background: ",";\n        .header {\n          color:  ",";\n        }\n      }\n    "])),u,l):o.css(O||(O=i([""],[""])))}),[e,u,l])}},438:function(e,n,t){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var i=t(0),o=t(439),a=t(440),u=function(e){var n=e.config;return i.React.createElement("div",{className:"widget-menu jimu-widget"},i.React.createElement(a.MenuNavigation,r({},n)))};u.versionManager=o.versionManager,n.default=u},439:function(e,n,t){"use strict";var r,i=this&&this.__extends||(r=function(e,n){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])})(e,n)},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(n,"__esModule",{value:!0});var o=t(0),a=t(107);n.DEFAULT_CONFIG={type:"HORIZONTAL",subOpenMode:"FOLDABLE",main:{alignment:"center",space:{distance:0,unit:"px"},showText:!0,showIcon:!1,iconPosition:"start"},navType:"default",advanced:!1};var u=function(e){var n,t,r,i,u,l,c;if(e){var s,v,p=e,d=o.Immutable({}),f=p.type===a.MenuType.Icon?"drawer":"nav",y=p.navType,g=p.type!==a.MenuType.Horizontal,h=null==p?void 0:p.icon,m=null==p?void 0:p.drawerDirection,b=(s=p.type,v=p.subOpenMode,s===a.MenuType.Horizontal?"dropdown":"EXPAND"===v?"static":"foldable"),O=null===(n=null==p?void 0:p.main)||void 0===n?void 0:n.alignment,w=null===(t=null==p?void 0:p.main)||void 0===t?void 0:t.showText,j=null===(r=null==p?void 0:p.main)||void 0===r?void 0:r.showIcon,P=null===(i=null==p?void 0:p.main)||void 0===i?void 0:i.iconPosition,_=null!==(l=null===(u=null==p?void 0:p.main)||void 0===u?void 0:u.space)&&void 0!==l?l:{distance:0,unit:"px"},x={icon:h,anchor:m,submenuMode:b,textAlign:O,showIcon:j,showText:w,iconPosition:P,gap:""+(null==_?void 0:_.distance)+(null==_?void 0:_.unit)},T=p.advanced,M=p.paper,S=function(e,n){if(e){var t=null==e?void 0:e[n];if(t){var r=t;return t.bg&&(r=(r=r.setIn(["root","bg"],t.bg)).without("bg")),r}}}(null===(c=null==p?void 0:p.main)||void 0===c?void 0:c.variants,p.navType);return d.set("type",f).set("menuStyle",y).set("vertical",g).set("standard",x).set("advanced",T).set("paper",M).set("variant",S)}},l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.versions=[{version:"1.0.0",description:"The first release.",upgrader:function(e){var t;if(!e)return n.DEFAULT_CONFIG;var r=e;return(null===(t=null==e?void 0:e.main)||void 0===t?void 0:t.variants)&&(r=r.set("advanced",!0)),r}},{version:"1.1.0",description:"Version manager for release 1.1",upgrader:function(e){return u(e||n.DEFAULT_CONFIG)}}],t}return i(t,e),t}(o.BaseVersionManager);n.versionManager=new l},440:function(e,n,t){"use strict";var r=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t};Object.defineProperty(n,"__esModule",{value:!0});var a,u=t(0),l=t(1),c=t(441),s=t(141),v=u.React.useMemo;n.MenuNavigation=function(e){var n=e.type,t=e.menuStyle,p=e.vertical,d=e.standard,f=e.advanced,y=e.paper,g=e.variant,h=s.useNavigationData(),m=s.useAvtivePage(),b=d.icon,O=d.anchor,w=o(d,["icon","anchor"]),j=s.useAnchor(O),P=function(e){return v((function(){return u.css(a||(a=r(["\n      width: 100%;\n      height: 100%;\n      .nav-item {\n        &.nav-link {\n          width: ",";\n          height: ",";\n        }\n      }\n\n    "],["\n      width: 100%;\n      height: 100%;\n      .nav-item {\n        &.nav-link {\n          width: ",";\n          height: ",";\n        }\n      }\n\n    "])),e?"100%":"unset",e?"unset":"100%")}),[e])}(p),_=s.useNavAdvanceStyle(f,t,g,p);return u.jsx("div",{className:"menu-navigation",css:[P,_]},"nav"===n&&u.jsx(l.Navigation,i({data:h,vertical:p,isActive:m,scrollable:!0},w,{type:t})),"drawer"===n&&u.jsx(c.DrawerMenu,i({data:h,advanced:f,variant:g,paper:y,type:t,vertical:p,isActive:m,scrollable:!1,icon:b,anchor:j},w)))}},441:function(e,n,t){"use strict";var r=this&&this.__makeTemplateObject||function(e,n){return Object.defineProperty?Object.defineProperty(e,"raw",{value:n}):e.raw=n,e},i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t};Object.defineProperty(n,"__esModule",{value:!0});var a,u=t(0),l=t(1),c=t(141),s=u.css(a||(a=r(["\n    width: 260px;\n"],["\n    width: 260px;\n"])));n.DrawerMenu=function(e){var n,t,r=u.React.useState(!1),a=r[0],v=r[1],p=e.icon,d=e.anchor,f=e.advanced,y=e.type,g=e.variant,h=e.paper,m=e.vertical,b=o(e,["icon","anchor","advanced","type","variant","paper","vertical"]),O=function(){return v((function(e){return!e}))},w=c.useDrawerAdvanceStyle(f,g,h),j=c.useNavAdvanceStyle(f,y,g,!0);return u.jsx(u.React.Fragment,null,u.jsx("div",{className:"button-container w-100 h-100 d-flex align-items-center justify-content-center"},u.jsx(l.Button,{icon:!0,type:"tertiary",onClick:O},u.jsx(l.Icon,{className:"caret-icon",icon:null==p?void 0:p.svg,color:null===(n=null==p?void 0:p.properties)||void 0===n?void 0:n.color,size:null===(t=null==p?void 0:p.properties)||void 0===t?void 0:t.size}))),u.jsx(l.Drawer,{anchor:d,open:a,toggle:O,css:w},u.jsx(l.PanelHeader,{className:"header",onClose:O}),u.jsx(l.Navigation,i({vertical:m,css:[s,j],type:y},b))))}},442:function(e,n){e.exports='<svg viewBox="0 0 10 12" xmlns="http://www.w3.org/2000/svg"><path d="M1 0h8a1 1 0 011 1v10a1 1 0 01-1 1H1a1 1 0 01-1-1V1a1 1 0 011-1zm0 1v10h8V1H1zm2 2h4a.5.5 0 010 1H3a.5.5 0 010-1zm0 2.5h4a.5.5 0 010 1H3a.5.5 0 010-1z" fill="#000" fill-rule="nonzero"></path></svg>'},443:function(e,n){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M7.42 8.839a.5.5 0 010 .71L6 10.966a3.502 3.502 0 01-4.967 0 3.501 3.501 0 010-4.966l1.416-1.422a.504.504 0 01.713.712L1.746 6.713a2.497 2.497 0 00-.003 3.545c.983.983 2.56.98 3.544-.003l1.42-1.42a.504.504 0 01.712.004zm1.415-2.132l1.422-1.416a2.5 2.5 0 000-3.547 2.502 2.502 0 00-3.547 0L5.29 3.163a.504.504 0 01-.713-.712l1.42-1.42a3.506 3.506 0 014.97.003 3.501 3.501 0 010 4.967L9.547 7.42a.504.504 0 01-.713-.712zm-4.967.71l3.548-3.548a.504.504 0 01.713.713L4.58 8.129a.504.504 0 01-.713-.712z" fill-rule="nonzero"></path></svg>'},444:function(e,n){e.exports='<svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg"><path d="M1 0h3a1 1 0 011 1v1h6a1 1 0 011 1v8a1 1 0 01-1 1H1a1 1 0 01-1-1V1a1 1 0 011-1zm0 1v10h10V3H4V1H1zm0 3.5h10v1H1v-1z" fill="#000" fill-rule="nonzero"></path></svg>'}})}));